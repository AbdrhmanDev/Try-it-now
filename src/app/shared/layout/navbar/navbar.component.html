<nav
  class="navbar mb-2 top-0 w-full z-50 transition-all duration-300"
  [class.scrolled]="isScrolled()"
  [class.menu-open]="isMenuOpen()"
>
  <div
    class="navbar-container flex hover:text-blue-600 items-center justify-between px-6 py-4"
  >
    <!-- Logo -->
    <a
      routerLink="/"
      class="logo flex items-center gap-2 text-xl font-bold text-white"
      (click)="closeMenu()"
    >
      <i class="fas fa-rocket text-yellow-400"></i>
      <span>AngularApp</span>
    </a>

    <!-- Desktop Links & Auth (shown on medium+ screens) -->
    <!-- Desktop Links -->
    <div class="hidden md:flex items-center space-x-8">
      @for (item of navItems(); track item.path) {
      <a
        [routerLink]="item.path"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200"
        (click)="closeMenu()"
      >
        {{ item.label }}
      </a>
      }

      <button
        class="px-4 py-2 border border-gray-400 text-gray-700 rounded hover:bg-gray-100"
      >
        Login
      </button>
      <button
        class="px-4 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700"
      >
        Sign Up
      </button>
    </div>

    <!-- Mobile Menu Button -->
    <button
      class="md:hidden flex flex-col"
      [class.active]="isMenuOpen()"
      (click)="toggleMenu()"
      aria-label="Toggle menu"
    >
      <span class="w-6 h-0.5 bg-white mb-1"></span>
      <span class="w-6 h-0.5 bg-white mb-1"></span>
      <span class="w-6 h-0.5 bg-white"></span>
    </button>
  </div>

  <!-- Stock Ticker (Optional) -->
  <div class="bg-gray-800 text-xs text-gray-300 py-1 overflow-hidden">
    <div class="inline-flex animate-infinite-scroll">
      @for (stock of stocks(); track stock.symbol) {
      <span class="mx-6 flex items-center">
        <span>{{ stock.symbol }}</span>
        <span>${{ stock.price.toFixed(2) }}</span>
        <span [class]="getChangeClass(stock.change)"
          >{{ getChangeIcon(stock.change) }}
          {{ absoluteValue(stock.change).toFixed(2) }}</span
        >
      </span>
      }
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div
    class="mobile-menu-overlay fixed inset-0 bg-black/80 z-40"
    [class.active]="isMenuOpen()"
    (click)="closeMenu()"
  >
    <div class="mobile-menu bg-gray-900 p-6 w-4/5 max-w-sm h-full text-white">
      <ul class="mobile-nav-links space-y-6 mt-8">
        @for (item of navItems(); track item.path) {
        <li>
          <a
            [routerLink]="item.path"
            routerLinkActive="active"
            class="mobile-nav-link block text-xl"
            (click)="closeMenu()"
          >
            {{ item.label }}
          </a>
        </li>
        }
      </ul>

      <div class="mobile-auth mt-10 space-y-4">
        <button
          class="btn btn-login w-full py-3 bg-transparent border border-white text-white rounded"
          (click)="closeMenu()"
        >
          Login
        </button>
        <button
          class="btn btn-signup w-full py-3 bg-yellow-500 text-gray-900 font-semibold rounded"
          (click)="closeMenu()"
        >
          Sign Up
        </button>
      </div>
    </div>
  </div>
</nav>
